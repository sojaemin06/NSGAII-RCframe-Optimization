# 상세 수정 및 코드 보완 계획 (Detailed Action Plan)

이 문서는 `tasks.md`와 `revision_report.md`를 기반으로, 각 리뷰어 지적 사항에 대한 **구체적인 실행 가이드(Step-by-Step Guide)**를 제공합니다. 문서 수정은 `Final Article_EN.pdf`를 기준으로 합니다.

---

## 🛡️ Reviewer #1 (R1)

### R1-1: 데이터베이스 방식 독창성 철회
*   **[문서 수정]** `Introduction` (Page 3, Line 89-93):
    *   *삭제:* "The primary aim... paradigm shift... First innovation..." 등의 과장된 표현.
    *   *추가:* "Following the discrete optimization approach suggested by Kaveh et al. [Ref], this study implements a practical database strategy..."
*   **[코드]** 수정 없음.

### R1-2: 제약조건 처리 소프트웨어 명시
*   **[문서 수정]** `Methodology` 섹션 추가:
    *   "Design constraints (ACI 318-19) are evaluated via a custom Python module (`src/evaluation.py`) which interpolates pre-calculated P-M interaction data generated by MATLAB."
*   **[코드]** `docs/modeling_details.md`에 상세 기술 완료.

### R1-3: 파라미터 설정 근거 보강
*   **[문서 수정]** `4.2. Determination of Parameters`:
    *   기존 수렴 그래프($f_1$) 외에 **Hypervolume 수렴 그래프**를 추가하여 다목적 성능을 입증.
    *   "Standard values (Mutation=0.2) were adopted from Deb et al. [Ref]." 문구 추가.
*   **[코드]** `src/optimization.py`에 Hypervolume 로직 추가 완료. `batch_run` 실행 후 데이터 확보 필요.

### R1-4: 설계 기준 연도 표기
*   **[문서 수정]** 전체 검색 및 치환:
    *   `ACI 318` -> `ACI 318-19`
    *   `ASCE 7` -> `ASCE 7-16`
*   **[코드]** `scripts/*.py` 내 주석 및 출력 메시지 수정 (권장).

### R1-5: 계산 비용 명시
*   **[문서 수정]** `Discussion` 또는 `Conclusion`:
    *   "The average computational time for a single optimization run (600 pop, 200 gen) was approximately **[TIME]** hours on a workstation with **[CPU Model]** and **[RAM]**."
*   **[코드]** `simpledata_2obj_NSGA2.py`에 시간 측정 로직 추가 완료. 실제 실행 후 값 확인 필요.

### R1-6: 결론의 정량적 서술
*   **[문서 수정]** `Abstract` & `Conclusion`:
    *   "Cost reduced by **XX%** and CO2 emissions by **YY%** compared to the conventional code-based design."
*   **[코드]** 비교군(Conventional Design) 데이터 생성 필요 (R2-13 연계).

---

## 🛡️ Reviewer #2 (R2)

### R2-1: 파레토 지배 정의 오류
*   **[문서 수정]** `Eq (8)` 및 관련 텍스트:
    *   부등호 방향 반대로 수정 ($\ge$ -> $\le$). 

### R2-2: 서론 축소 및 방법론 강화
*   **[문서 수정]**
    *   `2. Theoretical Background` (NSGA-II 설명) 대폭 축소 또는 삭제.
    *   `3. Proposed Optimization Framework`에 **OpenSees Modeling Details** (요소, 재료, P-Delta 등) 섹션 신설.

### R2-3, R2-4: 목적함수 타당성 (반박)
*   **[문서 수정]** `Response Letter`에 작성:
    *   Cost-CO2 상관계수 그래프 첨부.
    *   "Mean DCR represents Global Redundancy" 논리 서술.

### R2-5: 단면 DB 생성 상세 기술
*   **[문서 수정]** `3.2 Section Database`:
    *   데이터베이스 생성 파라미터(Table 2) 외에 **생성된 DB의 통계** 추가.
    *   "Total 1,000 sections were generated via random sampling to cover the design space of [Range]."
    *   이산화 간격(Discretization step) 및 분포 특성 서술.

### R2-6: SLS 검토 한계 명시
*   **[문서 수정]** `Abstract` & `Introduction`:
    *   "SLS pre-check"라는 표현을 **"Local SLS pre-check"**로 구체화.
    *   "Global SLS (Drift, Deflection) are strictly evaluated through full-frame FEA." 문구 추가하여 오해 불식.

### R2-7: 구조 해석 모델 상세화
*   **[문서 수정]** 신설된 `Modeling Details` 섹션에 `docs/modeling_details.md` 내용 요약 기술.
*   **[코드]** `src/modeling.py`: `Linear` -> `PDelta` 수정 완료.

### R2-8: 지진 하중 현실화 (중요)
*   **[문서 수정]** `4.1 Target Structure`:
    *   지진 하중 산정 근거(설계 스펙트럼 등) 명시.
    *   하중 값 수정 (40kN -> **600kN**).
    *   **근거:** 건물 총 중량 $W \approx 12,500 \text{ kN}$ (보+기둥+슬래브 하중 포함 추정치) 및 지진 응답 계수 $C_s \approx 0.048$ (약진 지역/중간 모멘트 골조 가정) 적용 시, 베이스 전단력 $V = C_s W \approx 600 \text{ kN}$. 이를 등가정적해석법(ELF)에 따라 층별로 역삼각형 분포로 재하함.
*   **[코드]** `scripts/experiment_high_load.py` 실행하여 **600kN** 조건에서도 해가 수렴하는지 검증 필수.

### R2-9: 예제 층수 오류 수정
*   **[문서 수정]** `4. Numerical Example`:
    *   "8-story" -> "**4-story**"로 전면 수정. 오타 인정.

### R2-10: 통계적 검증
*   **[문서 수정]** `5. Framework Performance Validation`:
    *   3회 -> **30회** 실행 결과의 Boxplot 및 표준편차 제시.
*   **[코드]** `scripts/batch_run_optimization.py` 실행 필요.

### R2-11: 비대칭 하중 (반박)
*   **[문서 수정]** `Response Letter`: "Intentional design to verify shape optimization efficacy."

### R2-12: 실무적 설계 한계 (Limitations)
*   **[문서 수정]** `Discussion`:
    *   "Fixed Member Grouping"과 "Uniform Stirrup Spacing"은 최적화 효율성(Convergence)과 시공성(Constructability)을 위한 가정임을 명시.
    *   향후 연구에서 가변 그룹핑(Variable Grouping) 등을 다룰 것임을 언급.

### R2-13: 비교 분석 (필수)
*   **[문서 수정]** `4. Result Analysis`:
    *   Pareto Front 그래프에 **"Conventional Design Point"** 추가.
    *   최적 해와의 성능 차이(Gap)를 수치로 설명.
*   **[코드]** `scripts/evaluate_conventional_design.py` (가칭) 작성하여 수동 설계안의 $f_1, f_2$ 계산 필요.

### R2-14: 데이터 공개
*   **[문서 수정]** `Data Availability`: "Code and data are available at [GitHub URL]."

---

## 🛡️ Reviewer #3 (R3)

### R3-1: 평균 DCR 목적함수 의문 (반박)
*   **[문서 수정]** `Response Letter` & `Methodology`:
    *   R2-4와 동일하게 "Global Redundancy Indicator"로서의 유효성 주장.

### R3-2: Hybrid 용어 (반박)
*   **[문서 수정]** `Response Letter`: 용어의 정의(Design Variable Hybrid)를 명확히 하고 유지.

### R3-3, R3-4, R3-13: 한계점 기술
*   **[문서 수정]** `Discussion` 또는 `Limitations`:
    *   철근 상세(Detailing), 거푸집 비용(Formwork Cost), 장기 처짐(Long-term Deflection) 등은 본 연구 범위 밖임을 명시.

### R3-5, R3-6, R3-21: 서술 및 용어 오류 수정 (Editing)
*   **[문서 수정]** 전체 원고:
    *   "Earthquakes are not external forces" -> "Seismic actions..." 등으로 수정.
    *   "Reinforced concrete moment-resisting frames" 중복 표현 정리.
    *   "Rigorous", "Excellent" 등 과도한 형용사 삭제.

### R3-7: 서론 및 알고리즘 설명 축소
*   **[문서 수정]** `2. Theoretical Background`:
    *   NSGA-II에 대한 교과서적인 설명(2.1, 2.2절) 대폭 삭제 및 요약.

### R3-8: 콘크리트 압축 강도 값의 적절성
*   **[문서 수정]** `3.1 Material Properties` 또는 `Appendix`:
    *   Table 2에 제시된 콘크리트 압축 강도($f_{ck}$) 값들이 실무에서 일반적으로 사용되는 범위에 해당하는지 명확히 설명하거나, 필요시 수정.

### R3-9: 철근비 변환 설명
*   **[문서 수정]** `3.2 Section Database`:
    *   MATLAB에서 철근비($\rho$)를 기반으로 실제 철근 개수(Bar Layout)를 배치하는 알고리즘 로직 다이어그램 추가.

### R3-10: 설계 변수 그림
*   **[문서 수정]** `3.3.2 Decision Variables`:
    *   Chromosome 구조와 실제 건물 매핑을 보여주는 다이어그램 보강.

### R3-11, R3-12: 변수 정의 보강 (Notation)
*   **[문서 수정]** `3.3.3 Objective Functions`:
    *   가중치($w_{cost}, w_{co2}$) 정의 및 값(1.0) 명시.
    *   Equation 14에서 "DCR" 용어의 정의(Demand-Capacity Ratio) 명시.

### R3-14, R3-15: 구조 해석 및 하중 상세 (Modeling)
*   **[문서 수정]** `3. Proposed Optimization Framework` 또는 `Modeling Details` (Appendix):
    *   **하중 산정 및 적용 상세 (Load Conditions):**
        *   **고정 하중 (Dead Load):**
            *   구조물 자중(Self-weight): 콘크리트 단위 중량 $24 \text{kN/m}^3$ 적용 (자동 계산).
            *   슬래브 및 마감 하중: **면적당 $5.0 \text{kN/m}^2$ (Slab DL + SDL)** 적용. 해석 시 각 보의 **분담 폭(Tributary Width)**에 비례하여 등가 등분포 선하중(Equivalent Uniform Load)으로 치환하여 재하.
        *   **활하중 (Live Load):** **면적당 $2.0 \text{kN/m}^2$** 적용. 보의 분담 폭에 따라 선하중으로 치환하며, 최대 모멘트 유도를 위한 **체크무늬 배치(Pattern Loading)** 적용.
        *   **풍하중 (Wind Load):** ASCE 7-16 MWFRS 기준. 기본 풍속 $V=30 \text{m/s}$, 노출 범주 B. 높이별 풍압 계수($K_z$)를 고려하여 층별 하중($F_x$) 산정.
        *   **지진 하중 (Seismic Load):** ASCE 7-16 등가정적해석법(ELF). 지반 조건 Site Class D ($S_{DS}=0.60g, S_{D1}=0.36g$), 반응 수정 계수 $R=5.0$.
            *   **중량 산정 ($W$):** 해석 모델의 단순화된 보 하중 합산 대신, **"전체 슬래브 면적 $\times$ 면적 하중"**을 별도로 계산하여 지진 중량의 정확성 확보.
            *   기저 전단력($V=C_s W$)을 층별 무게와 높이에 따라 분배($C_{vx}$).
    *   **하중 조합 (Load Combinations):** ACI 318-19 (LRFD) 기준.
        *   $1.2D + 1.6L$
        *   $1.2D + 1.0L + 1.0(E \text{ or } W)$
        *   지진 하중의 경우 직교 효과(Orthogonal Effects, 100:30 Rule) 고려.

### R3-16: 통계적 검증
*   **[코드]** R2-10과 동일 (`batch_run_optimization.py`).

### R3-17: 세대 수 적절성
*   **[문서 수정]** `4. Result Analysis`:
    *   수렴 그래프(Convergence Plot)를 통해 100~200세대에서 충분히 수렴함을 강조.

### R3-18, R3-19: 결과 해석 보강
*   **[문서 수정]** `Table 9`, `Figure 15`:
    *   Table 9의 0/1 의미(Rotation Flag) 주석 처리.
    *   Figure 15 그래프의 경향성 분석 텍스트 추가.

### R3-20: 계산 시간
*   **[문서 수정]** R1-5와 동일하게 시간 명시.
